{"ast":null,"code":"import _regeneratorRuntime from\"/Volumes/BackupHDD/work/react/playneko-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Volumes/BackupHDD/work/react/playneko-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import{useEffect}from'react';import axios from'axios';var PageListModel=function PageListModel(_ref){var page=_ref.page,jsonData=_ref.jsonData,pagingData=_ref.pagingData,setJsonData=_ref.setJsonData,setPagingData=_ref.setPagingData,catpage=_ref.catpage,keyword=_ref.keyword;var limitPageNum=8;var globalPage=page;// 메인 리스트 취득\nvar pageFetchData=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response,fetchedJsonData,fetchedPagingData;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get('https://akibatv.playneko.com/?/api/blog/category?page='+globalPage+'&limitpage='+limitPageNum+'&catpage='+catpage+'&keyword='+keyword+'&projectid=9a27a65f138f8f6f4991323212ebb408');case 3:response=_context.sent;if(response.data!=null){fetchedJsonData=response.data.list;fetchedPagingData=response.data.paging;// console.log(fetchedJsonData);\nsetJsonData(fetchedJsonData);setPagingData(fetchedPagingData);}_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 10:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);}));return function pageFetchData(){return _ref2.apply(this,arguments);};}();useEffect(function(){pageFetchData();},[keyword]);return{list:jsonData,paging:pagingData};};export default PageListModel;","map":{"version":3,"sources":["/Volumes/BackupHDD/work/react/playneko-react/src/model/PageListModel.js"],"names":["useEffect","axios","PageListModel","page","jsonData","pagingData","setJsonData","setPagingData","catpage","keyword","limitPageNum","globalPage","pageFetchData","get","response","data","fetchedJsonData","list","fetchedPagingData","paging","console","log"],"mappings":"mUAAA,OAASA,SAAT,KAA0B,OAA1B,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CAEA,GAAMC,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,MAAgF,IAA9EC,CAAAA,IAA8E,MAA9EA,IAA8E,CAAxEC,QAAwE,MAAxEA,QAAwE,CAA9DC,UAA8D,MAA9DA,UAA8D,CAAlDC,WAAkD,MAAlDA,WAAkD,CAArCC,aAAqC,MAArCA,aAAqC,CAAtBC,OAAsB,MAAtBA,OAAsB,CAAbC,OAAa,MAAbA,OAAa,CAClG,GAAIC,CAAAA,YAAY,CAAG,CAAnB,CACA,GAAIC,CAAAA,UAAU,CAAGR,IAAjB,CAEA;AACA,GAAMS,CAAAA,aAAa,2FAAG,wNAESX,CAAAA,KAAK,CAACY,GAAN,CACnB,yDAA2DF,UAA3D,CACE,aADF,CACkBD,YADlB,CAEE,WAFF,CAEgBF,OAFhB,CAGE,WAHF,CAGgBC,OAHhB,CAIE,6CALiB,CAFT,QAERK,QAFQ,eASd,GAAIA,QAAQ,CAACC,IAAT,EAAiB,IAArB,CAA2B,CACjBC,eADiB,CACCF,QAAQ,CAACC,IAAT,CAAcE,IADf,CAEjBC,iBAFiB,CAEGJ,QAAQ,CAACC,IAAT,CAAcI,MAFjB,CAGvB;AACAb,WAAW,CAACU,eAAD,CAAX,CACAT,aAAa,CAACW,iBAAD,CAAb,CACH,CAfa,+EAiBdE,OAAO,CAACC,GAAR,cAjBc,oEAAH,kBAAbT,CAAAA,aAAa,2CAAnB,CAqBAZ,SAAS,CAAC,UAAM,CACZY,aAAa,GAChB,CAFQ,CAEN,CAACH,OAAD,CAFM,CAAT,CAIA,MAAO,CAACQ,IAAI,CAAEb,QAAP,CAAiBe,MAAM,CAAEd,UAAzB,CAAP,CACH,CA/BD,CAiCA,cAAeH,CAAAA,aAAf","sourcesContent":["import { useEffect } from 'react';\nimport axios from 'axios'\n\nconst PageListModel = ({page, jsonData, pagingData, setJsonData, setPagingData, catpage, keyword}) => {\n    let limitPageNum = 8;\n    var globalPage = page;\n\n    // 메인 리스트 취득\n    const pageFetchData = async () => {\n        try {\n            const response = await axios.get(\n                'https://akibatv.playneko.com/?/api/blog/category?page=' + globalPage \n                + '&limitpage=' + limitPageNum \n                + '&catpage=' + catpage \n                + '&keyword=' + keyword\n                + '&projectid=9a27a65f138f8f6f4991323212ebb408'\n            );\n            if (response.data != null) {\n                const fetchedJsonData = response.data.list;\n                const fetchedPagingData = response.data.paging;\n                // console.log(fetchedJsonData);\n                setJsonData(fetchedJsonData);\n                setPagingData(fetchedPagingData);\n            }\n        } catch(e) {\n            console.log(e);\n        }\n    }\n\n    useEffect(() => {\n        pageFetchData();\n    }, [keyword]);\n\n    return {list: jsonData, paging: pagingData};\n}\n\nexport default PageListModel;\n"]},"metadata":{},"sourceType":"module"}